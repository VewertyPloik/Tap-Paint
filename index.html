<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Tap Paint</title>
  <style>
    :root{
      --bg:#0f172a;
      --panel:#111827;
      --card:#0b1220;
      --ink:#e5e7eb;
      --accent:#7c3aed;
      --muted:#94a3b8;
      --good:#22c55e;
    }
    *{box-sizing:border-box}
    body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu;background:linear-gradient(180deg,#0b1220,#0a0f1a 60%);color:var(--ink)}
    header{position:sticky;top:0;z-index:5;background:rgba(10,15,26,.7);backdrop-filter:blur(10px);padding:14px 16px;border-bottom:1px solid #1f2937;display:flex;align-items:center;gap:12px}
    header h1{font-size:18px;margin:0}
    header .spacer{flex:1}
    header button{background:var(--accent);color:white;border:none;border-radius:12px;padding:10px 14px;font-weight:600;cursor:pointer;box-shadow:0 6px 18px rgba(124,58,237,.35)}
    header button[hidden]{display:none}

    #menu{padding:18px;display:grid;grid-template-columns:repeat(auto-fill,minmax(140px,1fr));gap:14px}
    .card{background:var(--card);border:1px solid #1f2937;border-radius:14px;padding:10px;cursor:pointer;transition:.2s transform,.2s box-shadow}
    .card:hover{transform:translateY(-2px);box-shadow:0 10px 30px rgba(0,0,0,.35)}
    .thumb{width:100%;aspect-ratio:1/1;border-radius:10px;display:block;background:#0a0f1a;border:1px solid #1f2937}
    .label{margin-top:8px;font-size:14px;color:var(--muted);display:flex;align-items:center;justify-content:space-between;gap:8px}
    .done{color:var(--good);font-weight:700}

    #game{display:none;padding:18px}
    #title{margin:8px 0 2px 0}
    #hint{color:var(--muted);font-size:14px}

    #grid{display:grid;justify-content:center;gap:2px;margin:16px auto}
    .cell{width:min(7.5vw,30px);height:min(7.5vw,30px);background:#111827;border-radius:6px;border:1px solid #1f2937}

    .toolbar{display:flex;gap:10px;justify-content:center;margin-top:10px}
    .pill{border:1px solid #1f2937;background:#0b1220;color:var(--ink);border-radius:999px;padding:8px 12px;font-size:14px}
  </style>
</head>
<body>
  <header>
    <h1>ðŸŽ¨ Tap-to-Paint</h1>
    <div class="spacer"></div>
    <button id="backBtn" hidden>â¬… Back to Menu</button>
  </header>

  <main id="menu"></main>

  <section id="game">
    <h2 id="title"></h2>
    <div id="hint">Tap anywhere â€” the game paints 2â€“4 correct tiles for you automatically.</div>
    <div id="grid"></div>
    <div class="toolbar">
      <span class="pill" id="progressPill">0% complete</span>
      <button class="pill" id="resetBtn">Reset this painting</button>
    </div>
  </section>

<script>
const C={r:'#ef4444',p:'#ff6b81',y:'#facc15',o:'#fb923c',g:'#22c55e',b:'#3b82f6',u:'#06b6d4',v:'#8b5cf6',w:'#e5e7eb',k:'#0f172a',n:'#8d5524',s:'#94a3b8'};
function gridFromArt(str,map=C){
  const rowsRaw=str.split('\n').map(l=>l.trim()).filter(l=>l.length>0);
  const rows=rowsRaw.map(l=>l.replace(/\s+/g,''));
  const w=Math.max(...rows.map(r=>r.length));
  return rows.map(row=>{const padded=row.padEnd(w,'.');return[...padded].map(ch=>ch==='.'?null:(map[ch]||null));});
}
const patterns={
  Rose:gridFromArt(`
....pppp....
...prrrp...
..prrrrpp..
..prrrrrp..
...prrrp...
....ppp....
.....g.....
.....g.....
.....g.....
....ggg....
....ggg....
.....g.....
`),
  Sun:gridFromArt(`
..y..y..y..
..yyyyyy..
.yyyyyyyy.
.yyyyyyyy.
.yyyyyyyy.
..yyyyyy..
..y..y..y..
....y.y....
`),
  Rainbow:gridFromArt(`
..rrrrrrrr..
..oooooooo..
..yyyyyyyy..
..gggggggg..
..bbbbbbbb..
..vvvvvvvv..
`),
  'Soccer Ball':gridFromArt(`
....wwww....
..wwkkkkww..
.wwkwkkwkww.
.wwkkkkkkww.
.wwkwkkwkww.
..wwkkkkww..
....wwww....
`),
  Basketball:gridFromArt(`
....wwwww...
...wookoow..
..wkookookw.
.wookokokoow
.wookokokoow
.wookkkkkoow
.wookokokoow
..wkookookw.
...wookoow..
....wwwww...
`),
  Heart:gridFromArt(`
..rr..rr..
.rrrrrrrr.
rrrrrrrrrr
rrrrrrrrrr
.rrrrrrrr.
..rrrrrr..
...rrrr...
....rr....
....rr....
`),
  Tree:gridFromArt(`
....gggg....
...gggggg...
..gggggggg..
...gggggg...
....gggg....
.....gg.....
.....gg.....
.....nn.....
.....nn.....
.....nn.....
.....nn.....
.....nn.....
`),
  Star:gridFromArt(`
.....y.....
.....y.....
..yyyyyyyy..
...yyyyyy...
....yyyy....
.yyyyyyyyyy.
....yyyy....
...yyyyyy...
..yyyyyyyy..
.....y.....
.....y.....
`),
  House:gridFromArt(`
.....r.....
....rrr....
...rwwwr...
..rrwwwrr..
..rrwwwrr..
..nnnnnnn..
..nnkkknn..
..nnkkynn..
..nnkkknn..
..nnkkknn..
...........
...........
`),
  Fish:gridFromArt(`
wwwwwwwwwwww
wbbbbbbbbbbw
wbbbooobbbow
wbboooooboow
wboowooooobw
wboooooooobw
wbboooooboow
wbbbooobbbow
wbbbbbbbbbbw
wbbbbbbbbbbw
wbbbbbbbbbbw
wwwwwwwwwwww
`),
  Bird:gridFromArt(`
......rrr...
.r...rpppr..
.rr..rppwwr.
.rpr.rpwwkw.
.rpprrpwpww.
.rppprpwwwr.
.rpppppprr..
..rrppyyyy..
...rpyyyyy..
...rpyyyy...
..rrrryy....
..rr........
`),
  Cat:gridFromArt(`
.w........w.
.ww......ww.
.wpwwwwwwpw.
.wpwkwwkwpw.
.wwwwwkwwww.
..wwwwwwww..
...rrrrrr...
.w..wwww....
.w..wwww....
.w..wwww....
..w.wwww....
..wwwwww....
`),
  Dog:gridFromArt(`
..nnn..nnn..
..nnn..nnn..
.nnwnnnnwnn.
.nnnnnnnnnn.
.nnnwwwwnnn.
..rrrrrrrr..
...nnnnnn...
...nnnnnn...
...nnnnnn...
.n.nnnnnn...
..nnnnnnn...
..nnnnnn....
`),
  Flower:gridFromArt(`
.....p.....
....ppp....
...ppppp...
....pyy p..
.....y.....
.....g.....
.....g.....
....ggg....
....ggg....
.....g.....
`),
  Car:gridFromArt(`
.yybbbbbbbb.
.ybbrrrrrrb.
.bbrrrrrrww.
.ggrrrrrrww.
.kkrrrrrrrr.
.kkkwkkkkwk.
.kkkkkkkkkk.
.yyyyyyyyyy.
.kkkkkkkkkk.
.kkkkkkkkkk.
.kkkkkkkkkk.
.gggggggggg.
`),
  Boat:gridFromArt(`
.....w......
.....w......
....wwwwww..
.....w......
.....w......
.....w......
....nnn.....
bnnnnnnnnnnb
bbbbbbbbbbbb
bbbbbbbbbbbb
bbbbbbbbbbbb
bbbbbbbbbbbb
`),
  Moon:gridFromArt(`
....yyyy....
...yyyyyy...
..yyyyyyyy..
..yyyyy.....
..yyyy......
...yyy......
....yy......
.....y......
`),
  Cloud:gridFromArt(`
............
....wwww....
..wwwwwwww..
.wwwwwwwwww.
..wwwwwwww..
....wwww....
`),
  Mountain:gridFromArt(`
....ss......
...sss......
..sssss..ss.
.ssssss.sss.
ssssssssssss
ssswwsssssww
sswwwwssswww
swwwwwswwwww
swwwwwwwwwww
wwwwwwwwwwww
`),
  Smiley:gridFromArt(`
..yyyyyyyy..
.yykyyyykyy.
.yyyyyyyyyy.
.yyyykkyyyy.
.ykyyyyyyky.
.yykkkkkkyy.
.yyyyyyyyyy.
.bbbbbbbbbb.
.ybbbbbbbby.
.ybbbbbbbby.
.ybbbbbbbby.
.ybbbbbbbby.
`),
  Planet:gridFromArt(`
....ggbb....
...ggbbbb...
..ggbbbbbg..
..gggbbggg..
..bbggggbb..
...bbgggb...
....ggbb....
`),
  Baseball:gridFromArt(`
....wwww....
..wwwwwwww..
.wwrwwrwwww.
.wwwwrrwwww.
.wwrwwrwwww.
..wwwwwwww..
....wwww....
`),
  'Top hat- blue':gridFromArt(`
............
....bbbb....
....bbbb....
....bbbb....
....bbbb....
..bbbbbbbb..
...yyyyyy...
...ykyyky...
...yyyyyy...
...ykkkky...
...yyyyyy...
..rrrrrrrr..
`),
  'Flower in pot':gridFromArt(`
.....p.....
....ppp....
...ppppp...
...pyyyp...
.....y.....
.....g.....
.....g.....
...nnnnnn..
...nnnnnn..
..nnnnnnnn.
`),
  'Sky - light blue with clouds and Sun':gridFromArt(`
bbbbbbbbbbbb
bbbbbbbbbbbb
bbbbbyybbbb.
bbbbbyybbbb.
bbbwwwwbbbb.
bbbbwwbbbbbb
bbbbbbbbbbbb
bbbbbbbbbbbb
`),
  'Night sky - dark purple with white stars and yellow moon':gridFromArt(`
vvvvvvvvvvvv
vvvvvvvvvvvv
vvvvvvyyyvvv
vvvvvvyyyvvv
vvvvvvyyyvvv
vvvwvvvvwvvv
vvvvvvvvvvvv
vvvvwvvvvvvv
vvvvvvvvvvvv
vvvwwvvvvvvv
vvvvvvvvvvvv
vvvvvvvvvvvv
`),
  'Shoes - orange':gridFromArt(`
............
..ooo.......
..owo.......
..www.......
..ooo.......
..ooooooo...
..ooooooo...
`),
  'Chair - brown':gridFromArt(`
............
...n........
...n........
...n........
...n........
...n........
...nnnnnn...
...n....n...
...n....n...
...n....n...
`),
  'Swing - brown support, gray chain, yellow swing':gridFromArt(`
nnnnnnnnnnn
n..s....s..n
n..s....s..n
n..s....s..n
n..s....s..n
n..s....s..n
n..s....s..n
n.yyyyyyyy.n
n.yyyyyyyy.n
n..........n
n..........n
n..........n
`),
  Parachute:gridFromArt(`
....bbbb....
..bbwwwwbb..
.bbwwyywwbb.
bbwwyyyywwbb
.bbwwyywwbb.
..bbwwwwbb..
....bbbb....
....s..s....
....s..s....
.....nn.....
.....nn.....
`),
  Pumpkin:gridFromArt(`
............
............
............
............
....gg......
.....gg.....
....oooo....
...oooooo...
...oooooo...
....oooo....
`),
  'Pumpkin Pie':gridFromArt(`
............
.....y......
....yo......
...yooo.....
..yooooo....
.yooooooo...
.yoooooooo..
...ooooooooo
...........o
`),
  'Candy Cane':gridFromArt(`
............
.....wrw....
....r...r...
...w.....w..
..r......r..
..w.........
..r.........
..w.........
..r.........
..w.........
..r.........
..w.........
`),
  'Santa Hat':gridFromArt(`
.ww.........
.wrr........
..rrrr......
...rrrrr....
...rrrrrr...
...rrrrrr...
...rrrrrr...
...rrrrrr...
..wwwwwwww..
...ykyyky...
...yywwyy...
...wwwwww...
`),
  Present:gridFromArt(`
............
..gggrrgyg..
..gggrryyy..
..gggryyyg..
..rrrrryrr..
..rrrrrrrr..
..gggrrggg..
..gggrrggg..
..gggrrggg..
`),
  'Vewerty Ploik Logo':gridFromArt(`
rrrrrrrrrrrr
rrrrrrrrrrrr
rrrrrrrrrrrr
rrrrrrrrrrrr
rkrrrrrkrkkk
rrkrrrkrrkrk
rrrkrkrrrkkk
rrrrkrrrrkrr
rrrrrrrrrrrr
rrrrrrrrrrrr
rrrrrrrrrrrr
rrrrrrrrrrrr
`),
  Snowman:gridFromArt(`
..kkkkkkkk..
....wwww....
....wsws....
....wwooo...
....wsss....
...wwwwww...
...wwkwww...
...wwwwww...
...wwkwww...
.wwwwwwwwww.
.wwwwkwwwww.
.wwwwwwwwww.
`),
  'Winter Wonderland':gridFromArt(`
yybbbbbbwbbw
ybbwbbwbbbww
bbbbbbbbbwww
bwbbwbbbwwww
bbbbbbbwwwww
bbbbbbwrrrww
bbwbbwrrrwww
bbbwwwwwwwww
wwwwwwwwppww
woowwwwppwww
wwoowwwwwwww
wwwwwwwwwwww
`),
  Rat:gridFromArt(`
............
..p.........
...p........
....p.......
....p......y
...ssss...yy
...ssss..yyy
...ssss.....
...ssss.....
...sksk.....
...ssps.....
`),
  'Blue Jay':gridFromArt(`
.....sss....
s...sbbbs...
ss..sbbwws..
sbs.sbwwkw..
sbbssbwbww..
sbbbsbwwws..
sbbbbbbss...
.ssbbuuuu...
..sbuuuuu...
..sbuuuu....
ssssuu......
ss..........
`),
  Shark:gridFromArt(`
....ssss....
...swssws...
..ssssssss..
.swwwwwwwws.
.swwrrrrwws
.swrrrrrrws
.swwwwwwwws
.ssssssssss
bbbbbbbbbbbb
bbbbbbbbbbbb
bbbbbbbbbbbb
bbbbbbbbbbbb
`),
  Chicken:gridFromArt(`
........sss.
.......srrrs
ss.....swws
sws..sswkys
swwkkwwwwrs
swwwwwwwwrs
swwwwwwwss
swwwwwwws
.swwwwws
..ssyyss
....sss
`),
  'Rubber Ducky':gridFromArt(`
...yyyy.....
..yyyyyy....
..oykyyy....
oooyyyyy....
.oooyyy.....
...yyy.yyy.y
..yyyyyyyyoy
.yyyyoyyyoyy
yyyyyyoooyyy
yyyyyyyyyyyy
.yyyyyyyyyy.
..yyyyyyyy..
`),
  'Sponge Bill':gridFromArt(`
..yyyyyyyy..
..yyyyyyyy..
..ywwbbwwy..
..ywwbbwwy..
..yyyyyyyy..
..yrrrrrry..
..ywwwwwwy..
..ynnnnnny..
..ynnnnnny..
..yyyyyyyy..
..yyyyyyyy..
..yyyyyyyy..
`),
  Watermelon:gridFromArt(`
.....r.....
....rrr....
...rrrrr...
..rrrkrrr..
..rrrrrrr..
.rrrkrkrrr.
rrrrrrrrrrr
rrrkrkrkrrr
rrrrrrrrrrr
gggrrrrrggg
.ggggggggg.
..ggggggg..
`),
  'American Football':gridFromArt(`
....nnnn....
..nnnnnnnn..
.nnnwnwnwnn.
nnnwwwwwwwnn
nnnnwnwnwnnn
.nnnnnnnnnn.
..nnnnnnnn..
....nnnn....
`),
  TV:gridFromArt(`
ssssssssssss
syybbbbbbwws
sybbbbbwwwws
sbbbbbbbwwws
sbbbbbbbbbbs
sggggggggggs
ssssssssssss
..ssssssss.
..s......s.
..s......s.
`),
  Snake:gridFromArt(`
..ggggg.....
.gggwgg.....
.rggggg.....
rr...gg.....
....ggg.....
...gggg.....
..gggg......
.gggg.......
gggg.......g
ggggg.....gg
gggggggggggg
.gggggggggg.

`),
  Dolphin:gridFromArt(`
....sss.....
...sssss....
..ssksssss..
....wwssss..
.....wwss...
......wss...
......wss...
......ss....
....sss.....
.b...ss.....
b..b..s...b.
bbbbbbbbbbbb

`),
  'Number 50':gridFromArt(`
............
............
yyyyy..yyyyy
y......y...y
y......y...y
yyyyy..y...y
....y..y...y
....y..y...y
....y..y...y
yyyyy..yyyyy
............
............


`)
};

const TITLES=[
  'Rose','Sun','Rainbow','Soccer Ball','Basketball','Heart','Tree','Star','House','Fish','Bird','Cat','Dog','Flower','Car','Boat','Moon','Cloud','Mountain','Smiley',
  'Planet','Baseball','Top hat- blue','Flower in pot','Sky - light blue with clouds and Sun','Night sky - dark purple with white stars and yellow moon','Shoes - orange','Chair - brown','Swing - brown support, gray chain, yellow swing','Parachute',
  'Pumpkin','Pumpkin Pie','Candy Cane','Santa Hat','Present','Vewerty Ploik Logo',
  'Snowman','Winter Wonderland',
  'Rat','Blue Jay','Shark','Chicken','Rubber Ducky','Sponge Bill',
  'Watermelon','American Football','TV','Snake','Dolphin','Number 50'
];

const paintings=TITLES.map(t=>({title:t,grid:patterns[t],done:false}));

const SAVE_KEY='tap_painting_pack_v5';
function save(){localStorage.setItem(SAVE_KEY,JSON.stringify(paintings.map(p=>p.done)));}
function load(){const d=localStorage.getItem(SAVE_KEY);if(!d)return;try{const arr=JSON.parse(d);arr.forEach((v,i)=>paintings[i]&&(paintings[i].done=!!v));}catch(_){}}

const menuEl=document.getElementById('menu');
const backBtn=document.getElementById('backBtn');
const gameEl=document.getElementById('game');
const titleEl=document.getElementById('title');
const gridEl=document.getElementById('grid');
const progEl=document.getElementById('progressPill');
const resetBtn=document.getElementById('resetBtn');

function renderMenu(){
  menuEl.innerHTML='';
  paintings.forEach((p,idx)=>{
    const card=document.createElement('div');
    card.className='card';
    card.addEventListener('click',()=>start(idx));
    const cv=document.createElement('canvas');
    cv.width=200;cv.height=200;cv.className='thumb';
    const ctx=cv.getContext('2d');
    const h=p.grid.length,w=p.grid[0].length;const s=Math.floor(180/Math.max(h,w));
    ctx.fillStyle='#0a0f1a';ctx.fillRect(0,0,cv.width,cv.height);
    for(let y=0;y<h;y++)for(let x=0;x<w;x++){const col=p.grid[y][x];if(!col)continue;ctx.fillStyle=col;ctx.fillRect(10+x*s,10+y*s,s-1,s-1);}    
    const label=document.createElement('div');label.className='label';
    const name=document.createElement('span');name.textContent=p.title;
    const check=document.createElement('span');check.textContent=p.done?'âœ…':'';if(p.done)check.className='done';
    label.appendChild(name);label.appendChild(check);
    card.appendChild(cv);card.appendChild(label);
    menuEl.appendChild(card);
  });
}

function start(i){
  const p=paintings[i];
  backBtn.hidden=false;gameEl.style.display='block';menuEl.style.display='none';
  titleEl.textContent=p.title;
  const H=p.grid.length,W=p.grid[0].length;const coords=[];
  for(let y=0;y<H;y++)for(let x=0;x<W;x++)if(p.grid[y][x])coords.push([y,x]);
  gridEl.innerHTML='';gridEl.style.gridTemplateColumns=`repeat(${W}, min(7.5vw,30px))`;
  gridEl.style.gridTemplateRows=`repeat(${H}, min(7.5vw,30px))`;
  const cells=[];for(let y=0;y<H;y++)for(let x=0;x<W;x++){const div=document.createElement('div');div.className='cell';gridEl.appendChild(div);cells.push(div);}  
  const painted=Array.from({length:H},()=>Array(W).fill(false));
  const total=coords.length;let paintedCount=0;updateProgress();
  function paintBatch(){
    let batch=2+Math.floor(Math.random()*3);
    for(let k=0;k<coords.length&&batch>0;k++){
      const [y,x]=coords[k];
      if(painted[y][x])continue;
      painted[y][x]=true;paintedCount++;
      const idx=y*W+x;cells[idx].style.background=p.grid[y][x];cells[idx].style.borderColor=p.grid[y][x];
      batch--;
    }
    updateProgress();
    if(paintedCount===total){
      paintings[i].done=true;save();
      setTimeout(()=>{alert('Painting complete!');backToMenu();},50);
    }
  }
  gridEl.onclick=paintBatch;
  document.body.onclick=e=>{if(gameEl.style.display==='block'&&e.target===gameEl)paintBatch();};
  resetBtn.onclick=()=>{
    for(let y=0;y<H;y++)for(let x=0;x<W;x++){painted[y][x]=false;const idx=y*W+x;cells[idx].style.background='';cells[idx].style.borderColor='#1f2937';}
    paintings[i].done=false;save();paintedCount=0;updateProgress();
  };
  function updateProgress(){const pct=Math.round(100*paintedCount/total);progEl.textContent=`${pct}% complete`;}
}

function backToMenu(){gameEl.style.display='none';menuEl.style.display='grid';backBtn.hidden=true;renderMenu();}
backBtn.addEventListener('click',backToMenu);
load();renderMenu();
</script>
</body>
</html>
